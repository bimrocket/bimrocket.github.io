<!DOCTYPE html>
<html lang="en">
<head>
  <title>Configuration | BIMROCKET</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="BIMROCKET - The Open BIM Platform">
  <meta name="keywords" content="BIM, THREEJS, OrientDB, MongoDB">
  <meta name="theme-color" content="#404040">
  <link id="hljs-theme" rel="stylesheet" href="">

  <script>
    if (window.localStorage)
    {
      const storedTheme = window.localStorage.getItem("theme");
      if (storedTheme)
      {
        document.documentElement.setAttribute("data-theme", storedTheme);
      }
      const link = document.getElementById('hljs-theme');
      let hljsCss;
      if (storedTheme === "dark")
      {
        hljsCss = "github-dark.min.css";
      }
      else
      {
        hljsCss = "github.min.css";
      }
      link.href = "https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/" + hljsCss;
    }
  </script>

  <link rel="stylesheet" href="/assets/css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" />
  <link href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;family=Montserrat:ital,wght@0,100..900;1,100..900&amp;family=Open+Sans:ital,wght@0,300..800;1,300..800&amp;family=Raleway:ital,wght@0,100..900;1,100..900&amp;family=Work+Sans:ital,wght@0,100..900;1,100..900&amp;display=swap" rel="stylesheet" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/yaml.min.js"></script>
</head>
<body>
  <header>
    <a href="/en"><h1><img src="/assets/img/bimrocket.svg" alt="BIMROCKET" class="logo"></h1></a>

    <select id="lang-select" title="Language selector">
      <option value="en" data-short="EN" selected>EN</option>
      <option value="es" data-short="ES" >ES</option>
      <option value="ca" data-short="CA" >CA</option>
    </select>

    <button class="image-button menu-toggle" title="menu toggler"><span class="material-symbols-outlined">menu</span></button>
    <button class="image-button theme-toggle" title="theme selector"><span class="material-symbols-outlined">dark_mode</span></button>

    <nav>
      <ul id="menu">
        <li><a href="/en">Home</a></li>
        <li class="submenu">
          <a href="#">Product <span class="material-symbols-outlined">keyboard_arrow_down</span></a>
          <ul>
            <li><a href="/en/features">Features</a></li>
            <li><a href="/en/architecture">Architecture</a></li>
            <li><a href="/en/license">License</a></li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Documentation <span class="material-symbols-outlined">keyboard_arrow_down</span></a>
          <ul>
            <li><a href="/en/install">Install</a></li>
            <li><a href="/en/configuration">Configuration</a></li>
            <li><a href="/en/user_guides">User guides</a></li>
          </ul>
        </li>
        <li><a href="/en/download">Download</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <div class="content">
      
      <h2><span class="material-symbols-outlined">settings</span> Configuration</h2>
      

      <p><strong>Bimrocket</strong> server configuration is managed with the <a href="https://smallrye.io/smallrye-config">smallrye-config</a> library that follows the <a href="https://microprofile.io/specifications/microprofile-config-2/">microprofile-config</a> specification. This library can obtain configuration parameters from multiple sources at the same time (environment variables, JVM properties, external files, etc.).
By default, bimrocket defines these parameters in a yaml file like this:</p>
<pre><code class="language-yaml"># bimrocket-server config

# service config
services:

  # security service
  security:
    adminPassword: bimrocket
    passwordPattern: '^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&amp;+=_\-\.])(?=\S+$).{8,}$'
    authorizationCacheTimeout: 300
    userCacheTimeout: 300
    roleCacheTimeout: 300
    ldap:
      enabled: false
      url: ldap://dc1.santfeliu.local
      domain: santfeliu.local
      searchBase: DC=santfeliu,DC=local
      adminUsername: admin
      adminPassword: changeit
    store:
      class: org.bimrocket.service.security.store.orient.SecurityOrientDaoStore
      orient:
        database: bimdb

  # file service
  file:
    store:
      class: org.bimrocket.service.file.store.filesystem.FileSystemFileStore
      filesystem:
        directory: ${BIMROCKET_DATA_PATH}/cloudfs
    folders:
      - models
      - scripts
      - reports
      - ifc_snapshots

  # bcf service
  bcf:
    projectTemplate:
    store:
      class: org.bimrocket.service.bcf.store.orient.BcfOrientDaoStore
      orient:
        database: bimdb
    mail:
      createTopic:
        subject: '#{project.name}##{index}: #{title} [#{priority}]'
        body: '#{description}'

  # ifcdb service
  ifcdb:
    schemas:
      - IFC2X3
      - IFC4
    maxFileSizeMb: 200
    store:
      class: org.bimrocket.service.ifcdb.store.orient.OrientIfcStore

  # task service
  task:
    taskCacheSize: 10
    store:
      class: org.bimrocket.service.task.store.orient.TaskOrientDaoStore
      orient:
        database: bimdb

  # print service
  print:
    directory: ${BIMROCKET_DATA_PATH}/printsvc
    title: 'Bimrocket print'
    creator: 'Bimrocket PrintService'

  # mail service
  mail:
    enabled: false
    host: helios
    port: 25
    startTls: false
    auth: false
    username: none
    password: none
    from: 'admin@bimrocket.org'
    contentType: 'text/plain;charset=ISO-8859-1'

  # proxy service
  proxy:
    validUrls:
      - https://api.openai.com/
      - https://api.bsdd.buildingsmart.org/
    aliases:
      chatgpt:
        url: https://api.openai.com/v1/chat/completions
        ipFilter: ''
        authorization: changeit

# database config
databases:
  bimdb:
    url: embedded:${BIMROCKET_DATA_PATH}/db/bimdb
    username: root
    password: orientdb
  IFC2X3:
    url: embedded:${BIMROCKET_DATA_PATH}/db/IFC2X3
    username: root
    password: orientdb
  IFC4:
    url: embedded:${BIMROCKET_DATA_PATH}/db/IFC4
    username: root
    password: orientdb

</code></pre>
<p>During server startup, a yaml configuration file is created (if not exists) in this path: <code>${BIMROCKET_DATA_PATH}/bimrocket-server.yaml</code>
where <code>${BIMROCKET_DATA_PATH}</code> points to <code>${user.home}/bimrocket</code> by default.
Edit this yaml file to change the parameters you need and restart the bimrocket server for the parameters to take effect.</p>
<p>The value of <code>BIMROCKET_DATA_PATH</code> can be changed via an environment variable or a JVM property:</p>
<ul>
<li><strong>Environment variable</strong>: <code>BIMROCKET_DATA_PATH=&lt;my_location&gt;</code></li>
<li><strong>JVM property</strong>: In tomcat installations, edit <code>&lt;TOMCAT_HOME&gt;/conf/catalina.properties</code> and add this line: <code>BIMROCKET_DATA_PATH=&lt;my_location&gt;</code></li>
</ul>
<p>In the default configuration, <strong>OrientDB</strong> embedded databases are created automaticaly in <code>${BIMROCKET_DATA_PATH}/db</code>.<br>
You can change the database urls in <code>bimrocket-server.yaml</code> file to create the databases in a remote OrientDB server.</p>
<p>The default password of the <code>admin</code> user is <code>bimrocket</code>.
It can be changed through the <code>services.security.adminPassword</code> property of the <code>bimrocket-server.yaml</code> file.</p>
<h3>Service configuration parameters</h3>
<p>The following section describes the configuration parameters accepted by each service.
These parameters can be modified directly in the <code>bimrocket-server.yaml</code> file or through any other mechanism provided by the <em>smallrye config</em> library (environment properties, JVM variables, etc.).
In many cases, it is necessary to restart the services for configuration changes to take effect.</p>
<h4 id="security">SecurityService
  <a href="#security" class="anchor">ðŸ”—</a>
</h4>
<p>Service that manages user information and access roles.<br>
Base path: <code>services.security</code></p>
<ul>
<li><code>.adminPassword</code> {String}: Password of the <code>admin</code> user. This user has full privileges over all services.</li>
<li><code>.passwordPattern</code> {String}: Java regular expression that defines the accepted format for user passwords.</li>
<li><code>.authorizationCacheTimeout</code> {Long}: Refresh time (in seconds) of the authorization cache.</li>
<li><code>.userCacheTimeout</code> {Long}: Refresh time (in seconds) of the user cache.</li>
<li><code>.roleCacheTimeout</code> {Long}: Refresh time (in seconds) of the role cache.</li>
<li><code>.ldap.enabled</code> {Boolean}: Parameter that indicates whether user passwords are validated against an LDAP server.
When this parameter is enabled, users do not need to be created in the database.</li>
<li><code>.ldap.url</code> {String}: URL of the LDAP server.</li>
<li><code>.ldap.domain</code> {String}: Domain of the LDAP server.</li>
<li><code>.ldap.searchBase</code> {String}: Base path in the LDAP directory where users are searched.</li>
<li><code>.ldap.adminUsername</code> {String}: User for accessing the LDAP server.</li>
<li><code>.ldap.adminPassword</code> {String}: Password for accessing the LDAP server.</li>
<li><code>.store.class</code> {Class}: Class that implements user and role storage:
<ul>
<li>For storage in OrientDB: <code>org.bimrocket.service.security.store.orient.SecurityOrientDaoStore</code></li>
<li>For storage in MongoDB: <code>org.bimrocket.service.security.store.mongo.SecurityMongoDaoStore</code></li>
</ul>
</li>
<li><code>.store.orient.database</code> {String}: Alias of the OrientDB database defined in the <code>databases</code> section.</li>
<li><code>.store.mongo.database</code> {String}: Alias of the MongoDB database defined in the <code>databases</code> section.</li>
</ul>
<h4 id="file">FileService
  <a href="#file" class="anchor">ðŸ”—</a>
</h4>
<p>Service that manages the storage of files and folders.<br>
Base path: <code>services.file</code></p>
<ul>
<li><code>.folders</code> {List&lt;String&gt;}: List of folders to be created in the base directory of the service.</li>
<li><code>.store</code> {Class}: Class that implements the storage of folders and files:
<ul>
<li>For file system storage: <code>org.bimrocket.service.file.store.filesystem.FileSystemFileStore</code></li>
</ul>
</li>
<li><code>.store.filesystem.directory</code> {String}: Base directory where folders and files are stored.</li>
</ul>
<h4 id="bcf">BcfService
  <a href="#bcf" class="anchor">ðŸ”—</a>
</h4>
<p>Service that manages the storage of BCF issues.<br>
Base path: <code>services.bcf</code></p>
<ul>
<li><code>.projectTemplate</code> {String}: Name of the project used as a template.
When a new BCF project is created, it inherits the extensions (<em>BcfExtensions</em>) of the template project.</li>
<li><code>.store</code> {Class}: Class that implements the storage of BCF issues:
<ul>
<li>For storage in OrientDB: <code>org.bimrocket.service.bcf.store.orient.BcfOrientDaoStore</code></li>
<li>For storage in MongoDB: <code>org.bimrocket.service.bcf.store.mongo.BcfMongoDaoStore</code></li>
</ul>
</li>
<li><code>.store.orient.database</code>: Alias of the OrientDB database defined in the <code>databases</code> section.</li>
<li><code>.store.mongo.database</code>: Alias of the MongoDB database defined in the <code>databases</code> section.</li>
<li><code>.mail.createTopic.subject</code> {String}: Pattern that defines the subject of the message sent to participants
when the issue is created. The pattern can include expressions <code>#{&lt;property&gt;}</code> where <code>property</code> is any property of the <em>Topic</em> (issue).</li>
<li><code>.mail.createTopic.body</code> {String}: Pattern that defines the body of the message sent to participants
when the issue is created. The pattern can include expressions <code>#{&lt;property&gt;}</code> where <code>property</code> is any property of the <em>Topic</em> (issue).</li>
</ul>
<h4 id="ifcdb">IfcdbService
  <a href="#ifcdb" class="anchor">ðŸ”—</a>
</h4>
<p>Service that manages the storage of IFC model objects in a database.<br>
Base path: <code>services.ifcdb</code></p>
<ul>
<li><code>.schemas</code> {List&lt;String&gt;}: List of supported IFC schemas (IFC2X3, IFC4, or IFC4X3_ADD2).
A separate database will be created for each schema.
The <code>alias</code> of the database used will match the name of the IFC schema.</li>
<li><code>.maxFileSizeMb</code> {Integer}: Maximum size in MB of IFC models that can be stored in the database.</li>
<li><code>.store</code> {Class}: Class that defines the implementation of model storage:
<ul>
<li>For storage in OrientDB: <code>org.bimrocket.service.ifcdb.store.orient.OrientIfcStore</code></li>
<li>For storage in MongoDB: <code>org.bimrocket.service.ifcdb.store.mongo.MongoIfcStore</code></li>
</ul>
</li>
</ul>
<h4 id="task">TaskService
  <a href="#task" class="anchor">ðŸ”—</a>
</h4>
<p>Service that manages task execution on the server.<br>
Base path: <code>services.task</code></p>
<ul>
<li><code>.taskCacheSize</code> {Integer}: Number of tasks cached in an LRU structure.</li>
<li><code>.store.class</code> {Class}: Class that defines the implementation of task data storage:
<ul>
<li>For storage in OrientDB: <code>org.bimrocket.service.task.store.orient.TaskOrientDaoStore</code></li>
<li>For storage in MongoDB: <code>org.bimrocket.service.task.store.mongo.TaskMongoDaoStore</code></li>
</ul>
</li>
<li><code>.store.orient.database</code> {String}: Alias of the OrientDB database defined in the <code>databases</code> section.</li>
<li><code>.store.mongo.database</code> {String}: Alias of the MongoDB database defined in the <code>databases</code> section.</li>
</ul>
<h4 id="proxy">ProxyService
  <a href="#proxy" class="anchor">ðŸ”—</a>
</h4>
<p>Service for accessing external URLs.<br>
Base path: <code>services.proxy</code></p>
<ul>
<li><code>.validUrls</code> {List&lt;String&gt;}: List of URLs accepted by the proxy.</li>
<li><code>.aliases.&lt;alias&gt;</code> {Object}: Definition of an external connection associated with <code>alias</code>.</li>
<li><code>.aliases.&lt;alias&gt;.url</code> {String}: External URL to access.</li>
<li><code>.aliases.&lt;alias&gt;.ipFilter</code> {String}: Java regular expression that defines which IP addresses are allowed to access the URL.</li>
<li><code>.aliases.&lt;alias&gt;.authorization</code> {String}: <em>Authorization</em> header sent when accessing the URL (Bearer or Basic).</li>
</ul>
<h4 id="mail">MailService
  <a href="#mail" class="anchor">ðŸ”—</a>
</h4>
<p>Service for sending email messages.<br>
Base path: <code>services.mail</code></p>
<ul>
<li><code>.enabled</code> {Boolean}: Parameter that controls the activation of the service.</li>
<li><code>.host</code> {String}: Name of the SMTP mail server.</li>
<li><code>.port</code> {Integer}: Listening port of the mail server.</li>
<li><code>.startTls</code> {Boolean}: Parameter that controls the use of the TLS protocol.</li>
<li><code>.auth</code> {Boolean}: Parameter that indicates whether the connection requires authentication.</li>
<li><code>.username</code> {String}: Username used to authenticate with the server.</li>
<li><code>.password</code> {String}: Password used to authenticate with the server.</li>
<li><code>.from</code> {String}: Default sender email address.</li>
<li><code>.contentType</code> {String}: <em>Content-Type</em> of the message body.</li>
</ul>
<h4 id="print">PrintService
  <a href="#print" class="anchor">ðŸ”—</a>
</h4>
<p>Service for generating PDF files with vector geometries.<br>
Base path: <code>services.print</code></p>
<ul>
<li><code>.directory</code> {String}: Directory where generated PDF files are stored.</li>
<li><code>.title</code> {String}: Title displayed in the PDF document.</li>
<li><code>.creator</code> {String}: <code>creator</code> property included in the PDF document.</li>
</ul>

    </div>
  </main>

  <footer>
    <p><a href="/en">Â© 2025 BIMROCKET</a></p>
    <a href="https://github.com/bimrocket/bimrocket" class="github"><img src="/assets/img/github.svg" alt="github" /> GitHub</a>
  </footer>

  <button id="up-button" title="Anar amunt">
    <span class="material-symbols-outlined">arrow_upward</span>
  </button>

  <script src="/assets/js/main.js">
  </script>

  <script>hljs.highlightAll();</script>

</body>
</html>